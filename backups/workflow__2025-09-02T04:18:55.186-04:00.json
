{"fileName":"workflow_ptLu1gp8Avwfj3JA.json","fileContent":"{\n  \"createdAt\": \"2025-09-01T15:07:24.731Z\",\n  \"updatedAt\": \"2025-09-02T08:12:24.000Z\",\n  \"id\": \"ptLu1gp8Avwfj3JA\",\n  \"name\": \"backup workflow\",\n  \"active\": false,\n  \"isArchived\": false,\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {}\n          ]\n        }\n      },\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"typeVersion\": 1.2,\n      \"position\": [\n        208,\n        0\n      ],\n      \"id\": \"3c1e977f-e30d-4799-9e02-517f8edd4831\",\n      \"name\": \"Schedule Trigger\"\n    },\n    {\n      \"parameters\": {\n        \"url\": \"http://localhost:5678/api/v1/workflows?limit=250\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"n8nApi\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"typeVersion\": 4.2,\n      \"position\": [\n        432,\n        0\n      ],\n      \"id\": \"2fa6369c-6271-4a7e-8f19-6f92c8e99aa7\",\n      \"name\": \"HTTP Request\",\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"iiamUJL6UgUgfHZw\",\n          \"name\": \"n8n account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"fieldToSplitOut\": \"data\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"typeVersion\": 1,\n      \"position\": [\n        656,\n        0\n      ],\n      \"id\": \"269f074b-1e2a-4a0d-bce9-8a5ba7b59949\",\n      \"name\": \"Split Out\"\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"const cutoff = new Date(\\\"2025-09-01T00:00:00Z\\\");\\n\\nreturn items\\n  .filter(item => new Date(item.json.updatedAt) > cutoff)\\n  .map(item => {\\n    // Hele workflow-data som JSON\\n    const jsonStr = JSON.stringify(item.json, null, 2);\\n\\n    return {\\n      json: {\\n        fileName: `workflow_${item.json.id}.json`\\n      },\\n      binary: {\\n        data: {\\n          data: Buffer.from(jsonStr).toString('base64'),\\n          mimeType: 'application/json',\\n          fileName: `workflow_${item.json.id}.json`\\n        }\\n      }\\n    };\\n  });\\n\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        880,\n        0\n      ],\n      \"id\": \"e2087558-c2b2-4c3a-af20-732506b8dbe7\",\n      \"name\": \"Code\"\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"file\",\n        \"operation\": \"edit\",\n        \"owner\": {\n          \"__rl\": true,\n          \"value\": \"amaliecjensen\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"amaliecjensen\",\n          \"cachedResultUrl\": \"https://github.com/amaliecjensen\"\n        },\n        \"repository\": {\n          \"__rl\": true,\n          \"value\": \"n8n-backups\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"n8n-backups\",\n          \"cachedResultUrl\": \"https://github.com/amaliejcensen/n8n-backups\"\n        },\n        \"filePath\": \"=backups/workflow_{{ $json.id }}.json\",\n        \"fileContent\": \"={{ JSON.stringify($json) }}{{ JSON.stringify($json, null, 2) }}\",\n        \"commitMessage\": \"=Backup of workflow {{$json[\\\"id\\\"]}}\"\n      },\n      \"type\": \"n8n-nodes-base.github\",\n      \"typeVersion\": 1.1,\n      \"position\": [\n        1088,\n        0\n      ],\n      \"id\": \"8115cf83-0932-4a04-9146-18b96ef150d0\",\n      \"name\": \"Edit a file\",\n      \"webhookId\": \"0d43aa89-858b-4c34-947e-31dea457c812\",\n      \"credentials\": {\n        \"githubApi\": {\n          \"id\": \"wq0VP6uoir2BNf5i\",\n          \"name\": \"GitHub account\"\n        }\n      }\n    }\n  ],\n  \"connections\": {\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTTP Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTTP Request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit a file\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit a file\": {\n      \"main\": [\n        []\n      ]\n    }\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"staticData\": null,\n  \"meta\": {\n    \"templateCredsSetupCompleted\": true\n  },\n  \"pinData\": {},\n  \"versionId\": \"9fa2ebf9-94a3-40a4-9a28-833afbc89bb9\",\n  \"triggerCount\": 0,\n  \"shared\": [\n    {\n      \"createdAt\": \"2025-09-01T15:07:24.750Z\",\n      \"updatedAt\": \"2025-09-01T15:07:24.750Z\",\n      \"role\": \"workflow:owner\",\n      \"workflowId\": \"ptLu1gp8Avwfj3JA\",\n      \"projectId\": \"UdACivrq7f5sBtX5\"\n    }\n  ],\n  \"tags\": []\n}"}{
  "fileName": "workflow_ptLu1gp8Avwfj3JA.json",
  "fileContent": "{\n  \"createdAt\": \"2025-09-01T15:07:24.731Z\",\n  \"updatedAt\": \"2025-09-02T08:12:24.000Z\",\n  \"id\": \"ptLu1gp8Avwfj3JA\",\n  \"name\": \"backup workflow\",\n  \"active\": false,\n  \"isArchived\": false,\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {}\n          ]\n        }\n      },\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"typeVersion\": 1.2,\n      \"position\": [\n        208,\n        0\n      ],\n      \"id\": \"3c1e977f-e30d-4799-9e02-517f8edd4831\",\n      \"name\": \"Schedule Trigger\"\n    },\n    {\n      \"parameters\": {\n        \"url\": \"http://localhost:5678/api/v1/workflows?limit=250\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"n8nApi\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"typeVersion\": 4.2,\n      \"position\": [\n        432,\n        0\n      ],\n      \"id\": \"2fa6369c-6271-4a7e-8f19-6f92c8e99aa7\",\n      \"name\": \"HTTP Request\",\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"iiamUJL6UgUgfHZw\",\n          \"name\": \"n8n account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"fieldToSplitOut\": \"data\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"typeVersion\": 1,\n      \"position\": [\n        656,\n        0\n      ],\n      \"id\": \"269f074b-1e2a-4a0d-bce9-8a5ba7b59949\",\n      \"name\": \"Split Out\"\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"const cutoff = new Date(\\\"2025-09-01T00:00:00Z\\\");\\n\\nreturn items\\n  .filter(item => new Date(item.json.updatedAt) > cutoff)\\n  .map(item => {\\n    // Hele workflow-data som JSON\\n    const jsonStr = JSON.stringify(item.json, null, 2);\\n\\n    return {\\n      json: {\\n        fileName: `workflow_${item.json.id}.json`\\n      },\\n      binary: {\\n        data: {\\n          data: Buffer.from(jsonStr).toString('base64'),\\n          mimeType: 'application/json',\\n          fileName: `workflow_${item.json.id}.json`\\n        }\\n      }\\n    };\\n  });\\n\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        880,\n        0\n      ],\n      \"id\": \"e2087558-c2b2-4c3a-af20-732506b8dbe7\",\n      \"name\": \"Code\"\n    },\n    {\n      \"parameters\": {\n        \"resource\": \"file\",\n        \"operation\": \"edit\",\n        \"owner\": {\n          \"__rl\": true,\n          \"value\": \"amaliecjensen\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"amaliecjensen\",\n          \"cachedResultUrl\": \"https://github.com/amaliecjensen\"\n        },\n        \"repository\": {\n          \"__rl\": true,\n          \"value\": \"n8n-backups\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"n8n-backups\",\n          \"cachedResultUrl\": \"https://github.com/amaliejcensen/n8n-backups\"\n        },\n        \"filePath\": \"=backups/workflow_{{ $json.id }}.json\",\n        \"fileContent\": \"={{ JSON.stringify($json) }}{{ JSON.stringify($json, null, 2) }}\",\n        \"commitMessage\": \"=Backup of workflow {{$json[\\\"id\\\"]}}\"\n      },\n      \"type\": \"n8n-nodes-base.github\",\n      \"typeVersion\": 1.1,\n      \"position\": [\n        1088,\n        0\n      ],\n      \"id\": \"8115cf83-0932-4a04-9146-18b96ef150d0\",\n      \"name\": \"Edit a file\",\n      \"webhookId\": \"0d43aa89-858b-4c34-947e-31dea457c812\",\n      \"credentials\": {\n        \"githubApi\": {\n          \"id\": \"wq0VP6uoir2BNf5i\",\n          \"name\": \"GitHub account\"\n        }\n      }\n    }\n  ],\n  \"connections\": {\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTTP Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTTP Request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit a file\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit a file\": {\n      \"main\": [\n        []\n      ]\n    }\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"staticData\": null,\n  \"meta\": {\n    \"templateCredsSetupCompleted\": true\n  },\n  \"pinData\": {},\n  \"versionId\": \"9fa2ebf9-94a3-40a4-9a28-833afbc89bb9\",\n  \"triggerCount\": 0,\n  \"shared\": [\n    {\n      \"createdAt\": \"2025-09-01T15:07:24.750Z\",\n      \"updatedAt\": \"2025-09-01T15:07:24.750Z\",\n      \"role\": \"workflow:owner\",\n      \"workflowId\": \"ptLu1gp8Avwfj3JA\",\n      \"projectId\": \"UdACivrq7f5sBtX5\"\n    }\n  ],\n  \"tags\": []\n}"
}